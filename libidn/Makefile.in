CC		= @CC@ -Wall
CFLAGS		= @CFLAGS@ -fpic
LDFLAGS		= @LIBS@ @LDFLAGS@
LIBS		= @LIBS@
OBJECT		= idna.o nfkc.o profiles.o punycode.o stringprep.o stringprep_generic.o toutf8.o
CPPFLAGS	= -I. -I.. @CPPFLAGS@
DEFS		= @DEFS@ $(CPPFLAGS)

RM		= @RM@ -f

all: $(OBJECT)

idna.o: idna.c internal.h stringprep.h punycode.h idna.h
	$(CC) $(DEFS) $(CFLAGS) -c idna.c

nfkc.o: nfkc.c internal.h stringprep.h punycode.h idna.h gunidecomp.h gunicomp.h
	$(CC) $(DEFS) $(CFLAGS) -c nfkc.c

profiles.o: profiles.c internal.h stringprep.h punycode.h idna.h
	$(CC) $(DEFS) $(CFLAGS) -c profiles.c

punycode.o: punycode.c internal.h stringprep.h punycode.h idna.h
	$(CC) $(DEFS) $(CFLAGS) -c punycode.c

stringprep.o: stringprep.c internal.h stringprep.h punycode.h idna.h
	$(CC) $(DEFS) $(CFLAGS) -c stringprep.c

stringprep_generic.o: stringprep_generic.c stringprep.h
	$(CC) $(DEFS) $(CFLAGS) -c stringprep_generic.c

toutf8.o: toutf8.c internal.h stringprep.h punycode.h idna.h
	$(CC) $(DEFS) $(CFLAGS) -c toutf8.c

clean:
	-$(RM) -f *.o *~
